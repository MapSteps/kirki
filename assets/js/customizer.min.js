function kirkiArrayToObject(a){var b={};if(null!==a)for(var c=0;c<a.length;++c)void 0!==a[c]&&(b[c]=a[c]);return b}function kirkiObjectToArray(a){var b=[];if(null!==a)for(var c=0;c<a.length;++c)void 0!==a[c]&&b.push(a[c]);return b}function kirkiSetValue(a,b){var c=wp.customize.settings.controls[a];if(void 0===typeof c)return!0;var d=c.type;if("checkbox"==d||"switch"==d||"toggle"==d||"kirki-checkbox"==d)1==b?(jQuery(wp.customize.control(a).container.find("input")).prop("checked",!0),wp.customize.instance(a).set(!0)):(jQuery(wp.customize.control(a).container.find("input")).prop("checked",!1),wp.customize.instance(a).set(!1));else if("select"==d||"select2"==d||"select2-multiple"==d||"kirki-select"==d||"preset"==d){var e=jQuery(wp.customize.control(a).container.find("select")).selectize(),f=e[0].selectize;f.setValue(b,!0),wp.customize.instance(a).set(b)}else if("slider"==d)jQuery(wp.customize.control(a).container.find("input")).prop("value",b),jQuery(wp.customize.control(a).container.find(".kirki_range_value .value")).html(b),wp.customize.instance(a).set(b);else if("kirki-generic"==d&&void 0!==c.choices&&void 0!==c.choices.element&&"textarea"==c.choices.element)jQuery(wp.customize.control(a).container.find("textarea")).prop("value",b),wp.customize(a).set(b);else if("color-alpha"==d||"kirki-color"==d||"color"==d){var g=wp.customize.control(a).container.find(".kirki-color-control");g.attr("data-default-color",b).data("default-color",b).wpColorPicker("color",b),wp.customize.instance(a).set(b)}else if("multicheck"==d)for(wp.customize.instance(a).set(b),wp.customize.control(a).container.find("input").each(function(){jQuery(this).prop("checked",!1)}),index=0;index<b.length;index++)jQuery(wp.customize.control(a).container.find('input[value="'+b[index]+'"]')).prop("checked",!0);else if("radio-buttonset"==d||"radio-image"==d||"radio"==d||"kirki-radio"==d||"dashicons"==d||"color-palette"==d||"palette"==d)jQuery(wp.customize.control(a).container.find('input[value="'+b+'"]')).prop("checked",!0),wp.customize.instance(a).set(b);else if("typography"==d){if(void 0!==b["font-family"]){var e=jQuery(wp.customize.control(a).container.find(".font-family select")).selectize(),f=e[0].selectize;f.setValue(b["font-family"],!0)}if(void 0!==b.variant){var e=jQuery(wp.customize.control(a).container.find(".variant select")).selectize(),f=e[0].selectize;f.setValue(b.variant,!0)}if(void 0!==b.subset){var e=jQuery(wp.customize.control(a).container.find(".subset select")).selectize(),f=e[0].selectize;f.setValue(b.subset,!0)}if(void 0!==b["font-size"]&&jQuery(wp.customize.control(a).container.find(".font-size input")).prop("value",b["font-size"]),void 0!==b["line-height"]&&jQuery(wp.customize.control(a).container.find(".line-height input")).prop("value",b["line-height"]),void 0!==b["letter-spacing"]&&jQuery(wp.customize.control(a).container.find(".letter-spacing input")).prop("value",b["letter-spacing"]),void 0!==b.color){var h=wp.customize.control(a).container.find(".kirki-color-control");h.attr("data-default-color",b).data("default-color",b).wpColorPicker("color",b)}wp.customize.instance(a).set(b)}else"repeater"==d||(jQuery(wp.customize.control(a).container.find("input")).prop("value",b),wp.customize.instance(a).set(b))}function kirkiValidateCSSValue(a){if("0"==a)return!0;if(0<=a.indexOf("calc(")&&0<=a.indexOf(")"))return!0;var b=["rem","em","ex","%","px","cm","mm","in","pt","pc","ch","vh","vw","vmin","vmax"],c=parseFloat(a),d=a.replace(c,"");return isNaN(c)?!1:-1!==jQuery.inArray(d,b)}function RepeaterRow(a,b){this.rowIndex=a,this.rowNumber=a+1,this.$el=b,this.$dragger=this.$el.find(".repeater-row-move"),this.$minimizer=this.$el.find(".repeater-row-minimize"),this.$remover=this.$el.find(".repeater-row-remove"),this.$number=this.$el.find(".repeater-row-number"),this.$fields=this.$el.find("input,select,textarea");var c=this;this.$minimizer.on("click",function(){c.toggleMinimize()}),this.$remover.on("click",function(){c.remove()}),this.$dragger.on("mousedown",function(){c.$el.trigger("row:start-dragging")}),this.$el.on("keyup change","input, select, textarea",function(a){c.$el.trigger("row:update",[c.getRowIndex(),jQuery(a.target).data("field"),a.target])}),this.renderNumber()}wp.customize.controlConstructor["kirki-checkbox"]=wp.customize.Control.extend({ready:function(){var a=this,b=a.setting._value;this.container.on("change","input",function(){b=!!jQuery(this).is(":checked"),a.setting.set(b)})}}),wp.customize.controlConstructor.code=wp.customize.Control.extend({ready:function(){var a=this,b=a.container.find("#kirki-codemirror-editor-"+a.id),c=a.params.choices.language;"html"===a.params.choices.language&&(c={name:"htmlmixed"});var d=CodeMirror.fromTextArea(b[0],{value:a.setting._value,mode:c,lineNumbers:!0,theme:a.params.choices.theme,height:a.params.choices.height+"px"});d.on("change",function(){a.setting.set(d.getValue())}),b.parents(".accordion-section").on("click",function(){d.refresh()})}}),wp.customize.controlConstructor["color-alpha"]=wp.customize.Control.extend({ready:function(){var a=this,b=this.container.find(".kirki-color-control");void 0!==a.params.choices&&b.wpColorPicker(a.params.choices),b.wpColorPicker({change:function(c,d){setTimeout(function(){a.setting.set(b.val())},100)}})}}),wp.customize.controlConstructor["color-palette"]=wp.customize.Control.extend({ready:function(){var a=this;this.container.on("click","input",function(){a.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor.dashicons=wp.customize.Control.extend({ready:function(){var a=this;this.container.on("click","input",function(){a.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["kirki-date"]=wp.customize.Control.extend({ready:function(){var a=this,b=a.selector+" input.datepicker";jQuery(b).datepicker(),this.container.on("change keyup paste","input.datepicker",function(){a.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor.dimension=wp.customize.Control.extend({ready:function(){var a=this;!1===kirkiValidateCSSValue(a.setting._value)?jQuery(a.selector+" .input-wrapper").addClass("invalid"):jQuery(a.selector+" .input-wrapper").removeClass("invalid"),this.container.on("change keyup paste","input",function(){var b=jQuery(this).val();!1===kirkiValidateCSSValue(b)?jQuery(a.selector+" .input-wrapper").addClass("invalid"):(jQuery(a.selector+" .input-wrapper").removeClass("invalid"),a.setting.set(b))})}}),wp.customize.controlConstructor["dropdown-pages"]=wp.customize.Control.extend({ready:function(){var a=this,b=this.container.find("select");jQuery(b).selectize(),this.container.on("change","select",function(){a.setting.set(jQuery(this).val())})}}),function(a){wp.customizerCtrlEditor={init:function(){a(window).load(function(){a("textarea.wp-editor-area").each(function(){var b,c,d=a(this),e=d.attr("id"),f=tinyMCE.get(e);f&&f.onChange.add(function(a,e){a.save(),c=f.getContent(),clearTimeout(b),b=setTimeout(function(){d.val(c).trigger("change")},500)}),d.css({visibility:"visible"}).on("keyup",function(){c=d.val(),clearTimeout(b),b=setTimeout(function(){c.trigger("change")},500)})})})}},wp.customizerCtrlEditor.init()}(jQuery),wp.customize.controlConstructor["kirki-generic"]=wp.customize.Control.extend({ready:function(){var a=this;this.container.on("change keyup paste",a.params.choices.element,function(){a.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor.multicheck=wp.customize.Control.extend({ready:function(){var a=this;a.container.on("change","input",function(){var b=[],c=0;jQuery.each(a.params.choices,function(d,e){a.container.find('input[value="'+d+'"]').is(":checked")&&(b[c]=d,c++)}),a.setting.set(b)})}}),wp.customize.controlConstructor.multicolor=wp.customize.Control.extend({ready:function(){function a(a,b,c){var d=a.container.find(".multicolor-index-"+c);d.wpColorPicker({target:f[0],change:function(e,f){setTimeout(function(){b[c]=d.val(),a.setting.set(b),a.container.find(".multicolor-index-"+c).trigger("change")},100)}})}var b=this,c=b.params.choices,d=Object.keys(c),e=this.params.value,f=b.container.find(".iris-target");for(i=0,this.settingField=this.container.find("[data-customize-setting-link]").first();i<Object.keys(c).length;){a(this,e,d[i]);var g=b.container.find(".wp-picker-container .wp-picker-input-wrap"),h=b.container.find(".wp-picker-container .wp-picker-holder");jQuery(g[0]).detach().appendTo(f[0]),jQuery(h[0]).detach().appendTo(f[0]),i++}},setValue:function(a,b){this.setting.set(a),b&&this.settingField.trigger("change")}}),wp.customize.controlConstructor.number=wp.customize.Control.extend({ready:function(){var a=this,b=this.container.find("input");jQuery(b).spinner(),"undefined"!=typeof a.params.choices&&(a.params.choices.min&&jQuery(b).spinner("option","min",a.params.choices.min),a.params.choices.max&&jQuery(b).spinner("option","max",a.params.choices.max),a.params.choices.step&&("any"===a.params.choices.step?jQuery(b).spinner("option","step","0.001"):jQuery(b).spinner("option","step",a.params.choices.step))),this.container.on("change click keyup paste","input",function(){a.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor.palette=wp.customize.Control.extend({ready:function(){var a=this;this.container.on("click","input",function(){a.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor.preset=wp.customize.Control.extend({ready:function(){var a=this,b=this.container.find("select");jQuery(b).selectize(),this.container.on("change","select",function(){var b=jQuery(this).val();a.setting.set(b),jQuery.each(a.params.choices,function(a,c){b===a&&jQuery.each(c.settings,function(a,b){kirkiSetValue(a,b)})}),wp.customize.previewer.refresh()})}}),wp.customize.controlConstructor["radio-buttonset"]=wp.customize.Control.extend({ready:function(){var a=this;this.container.on("click","input",function(){a.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["radio-image"]=wp.customize.Control.extend({ready:function(){var a=this;this.container.on("click","input",function(){a.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor["kirki-radio"]=wp.customize.Control.extend({ready:function(){var a=this;this.container.on("change","input",function(){a.setting.set(jQuery(this).val())})}}),RepeaterRow.prototype.getRowIndex=function(){return this.rowIndex},RepeaterRow.prototype.getRowNumber=function(){return this.rowNumber},RepeaterRow.prototype.setRowNumber=function(a){this.rowNumber=a,this.renderNumber()},RepeaterRow.prototype.getElement=function(){return this.$el},RepeaterRow.prototype.setRowIndex=function(a){this.rowIndex=a,this.$el.attr("data-row",a),this.$el.data("row",a)},RepeaterRow.prototype.toggleMinimize=function(){this.$el.toggleClass("minimized"),this.$minimizer.find(".repeater-minimize").toggleClass("dashicons-arrow-up"),this.$minimizer.find(".repeater-minimize").toggleClass("dashicons-arrow-down")},RepeaterRow.prototype.minimize=function(){this.$el.addClass("minimized"),this.$minimizer.find(".repeater-minimize").removeClass("dashicons-arrow-up"),this.$minimizer.find(".repeater-minimize").addClass("dashicons-arrow-down")},RepeaterRow.prototype.remove=function(){confirm("Are you sure?")&&(this.$el.slideUp(300,function(){jQuery(this).detach()}),this.$el.trigger("row:remove",[this.getRowIndex()]))},RepeaterRow.prototype.renderNumber=function(){this.$number.text(this.getRowNumber())},wp.customize.controlConstructor.repeater=wp.customize.Control.extend({ready:function(){var a=this,b=this.params.value;this.settingField=this.container.find("[data-customize-setting-link]").first(),this.setValue([],!1),this.repeaterFieldsContainer=this.container.find(".repeater-fields").first(),this.currentIndex=0,this.rows=[];var c=!1;if(void 0!==this.params.choices.limit)var c=0>=this.params.choices.limit?!1:parseInt(this.params.choices.limit);if(this.container.on("click","button.repeater-add",function(b){b.preventDefault(),!c||a.currentIndex<c?(a.addRow(),jQuery(a.selector+" .repeater-row").last().toggleClass("minimized")):jQuery(a.selector+" .limit").addClass("highlight")}),this.container.on("click",".repeater-row-remove",function(b){a.currentIndex--,(!c||a.currentIndex<c)&&jQuery(a.selector+" .limit").removeClass("highlight")}),this.container.on("click keypress",".repeater-field-image .upload-button,.repeater-field-cropped_image .upload-button",function(b){b.preventDefault(),a.$thisButton=jQuery(this),a.openFrame(b)}),this.container.on("click keypress",".repeater-field-image .remove-button,.repeater-field-cropped_image .remove-button",function(b){b.preventDefault(),a.$thisButton=jQuery(this),a.removeImage(b)}),this.repeaterTemplate=_.memoize(function(){var b,c={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(d){return(b=_.template(a.container.find(".customize-control-repeater-content").first().html(),null,c))(d)}}),b.length)for(var d=0;d<b.length;d++)a.addRow(b[d]);this.repeaterFieldsContainer.sortable({handle:".repeater-row-move",update:function(b,c){a.sort()}})},openFrame:function(a){wp.customize.utils.isKeydownButNotEnterEvent(a)||(this.$thisButton.closest(".repeater-field").hasClass("repeater-field-cropped_image")?this.initCropperFrame():this.initFrame(),this.frame.open())},initFrame:function(){this.frame=wp.media({states:[new wp.media.controller.Library({library:wp.media.query({type:"image"}),multiple:!1,date:!1})]}),this.frame.on("select",this.onSelect,this)},initCropperFrame:function(){this.params.width=this.params.fields.slide_image.width,this.params.height=this.params.fields.slide_image.height,this.params.flex_width=this.params.fields.slide_image.flex_width,this.params.flex_height=this.params.fields.slide_image.flex_height,this.frame=wp.media({button:{text:"Select and Crop",close:!1},states:[new wp.media.controller.Library({library:wp.media.query({type:"image"}),multiple:!1,date:!1,suggestedWidth:this.params.width,suggestedHeight:this.params.height}),new wp.media.controller.CustomizeImageCropper({imgSelectOptions:this.calculateImageSelectOptions,control:this})]}),this.frame.on("select",this.onSelectForCrop,this),this.frame.on("cropped",this.onCropped,this),this.frame.on("skippedcrop",this.onSkippedCrop,this)},onSelect:function(){var a=this.frame.state().get("selection").first().toJSON();this.setImageInReaperField(a)},onSelectForCrop:function(){var a=this.frame.state().get("selection").first().toJSON();this.params.fields.slide_image.width!==a.width||this.params.fields.slide_image.height!==a.height||this.params.fields.slide_image.flex_width||this.params.fields.slide_image.flex_height?this.frame.setState("cropper"):this.setImageInReaperField(a)},onCropped:function(a){this.setImageInReaperField(a)},calculateImageSelectOptions:function(a,b){var c,d,e,f=b.get("control"),g=!!parseInt(f.params.flex_width,10),h=!!parseInt(f.params.flex_height,10),i=a.get("width"),j=a.get("height"),k=parseInt(f.params.width,10),l=parseInt(f.params.height,10),m=k/l,n=i,o=j;return b.set("canSkipCrop",!f.mustBeCropped(g,h,k,l,i,j)),n/o>m?(l=o,k=l*m):(k=n,l=k/m),c=(n-k)/2,d=(o-l)/2,e={handles:!0,keys:!0,instance:!0,persistent:!0,imageWidth:i,imageHeight:j,x1:c,y1:d,x2:k+c,y2:l+d},!1===h&&!1===g&&(e.aspectRatio=k+":"+l),!1===h&&(e.maxHeight=l),!1===g&&(e.maxWidth=k),e},mustBeCropped:function(a,b,c,d,e,f){return!0===a&&!0===b?!1:!0===a&&d===f?!1:!0===b&&c===e?!1:c===e&&d===f?!1:!(c>=e)},onSkippedCrop:function(){var a=this.frame.state().get("selection").first().toJSON();this.setImageInReaperField(a)},setImageInReaperField:function(a){var b=this.$thisButton.closest(".repeater-field-image,.repeater-field-cropped_image");b.find(".kirki-image-attachment").html('<img src="'+a.url+'">').hide().slideDown("slow"),b.find(".hidden-field").val(a.id),this.$thisButton.text(this.$thisButton.data("alt-label")),b.find(".remove-button").show(),b.find("input, textarea, select").trigger("change"),this.frame.close()},removeImage:function(a){if(!wp.customize.utils.isKeydownButNotEnterEvent(a)){var b=this.$thisButton.closest(".repeater-field-image"),c=b.find(".upload-button");b.find(".kirki-image-attachment").slideUp("fast",function(){jQuery(this).show().html(jQuery(this).data("placeholder"))}),b.find(".hidden-field").val(""),c.text(c.data("label")),this.$thisButton.hide(),b.find("input, textarea, select").trigger("change")}},getValue:function(){return JSON.parse(decodeURI(this.setting.get()))},setValue:function(a,b){this.setting.set(encodeURI(JSON.stringify(a))),b&&this.settingField.trigger("change")},addRow:function(a){var b,c,d=this,e=d.repeaterTemplate(),f=this.getValue(),g={};if(e){if(c=jQuery.extend(!0,{},d.params.fields),a)for(b in a)a.hasOwnProperty(b)&&c.hasOwnProperty(b)&&(c[b]["default"]=a[b]);c.index=this.currentIndex,c.ControlId=this.id,e=e(c);var h=new RepeaterRow(d.currentIndex,jQuery(e).appendTo(d.repeaterFieldsContainer));h.getElement().one("row:remove",function(a,b){d.deleteRow(b)}),h.getElement().on("row:update",function(a,b,c,e){d.updateField.call(d,a,b,c,e)}),h.getElement().on("row:start-dragging",function(){for(b in d.rows)d.rows.hasOwnProperty(b)&&d.rows[b]&&d.rows[b].minimize()}),this.rows[this.currentIndex]=h;for(b in c)c.hasOwnProperty(b)&&(g[b]=c[b]["default"]);f[this.currentIndex]=g,this.setValue(f,!0),this.currentIndex++}},sort:function(){var a=this,b=this.repeaterFieldsContainer.find(".repeater-row"),c=[];b.each(function(a,b){c.push(jQuery(b).data("row"))});var d=a.getValue(),e=[],f=[];jQuery.each(c,function(b,c){e[b]=a.rows[c],e[b].setRowIndex(b),e[b].setRowNumber(b+1),f[b]=d[c]}),a.rows=e,a.setValue(f)},deleteRow:function(a){var b=this.getValue();if(b[a]){var c=this.rows[a];c&&(delete b[a],delete this.rows[a],this.setValue(b,!0))}var d=1;for(var e in this.rows)this.rows.hasOwnProperty(e)&&this.rows[e]&&(this.rows[e].setRowNumber(d),d++)},updateField:function(a,b,c,d){if(this.rows[b]&&this.params.fields[c]){var e=this.params.fields[c].type,f=this.rows[b],g=this.getValue();d=jQuery(d),void 0!==typeof g[f.getRowIndex()][c]&&("checkbox"===e?g[f.getRowIndex()][c]=d.is(":checked"):g[f.getRowIndex()][c]=d.val(),this.setValue(g,!0))}}}),wp.customize.controlConstructor["kirki-select"]=wp.customize.Control.extend({ready:function(){var a=this,b=this.container.find("select"),c=parseInt(b.data("multiple"));c>1?jQuery(b).selectize({maxItems:c,plugins:["remove_button","drag_drop"]}):jQuery(b).selectize(),this.container.on("change","select",function(){if(c>1)var b=kirkiArrayToObject(jQuery(this).val());else var b=jQuery(this).val();a.setting.set(b)})}}),jQuery(document).ready(function(a){a("input[type=range]").on("mousedown",function(){value=a(this).attr("value"),a(this).mousemove(function(){value=a(this).attr("value"),a(this).closest("label").find(".kirki_range_value .value").text(value)})}),a(".kirki-slider-reset").click(function(){var b=a(this).closest("label").find("input"),c=b.data("reset_value");b.val(c),b.change(),a(this).closest("label").find(".kirki_range_value .value").text(c)})}),wp.customize.controlConstructor.slider=wp.customize.Control.extend({ready:function(){var a=this;this.container.on("change","input",function(){a.setting.set(jQuery(this).val())})}}),wp.customize.controlConstructor.sortable=wp.customize.Control.extend({ready:function(){var a=this;this.settingField=this.container.find("[data-customize-setting-link]").first(),this.sortableContainer=this.container.find("ul.sortable").first(),this.setValue(this.setting.get(),!1),this.sortableContainer.sortable().disableSelection().on("sortstop",function(b,c){a.sort()}).find("li").each(function(){jQuery(this).find("i.visibility").click(function(){jQuery(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")})}).click(function(){a.sort()})},sort:function(){var a=[];this.sortableContainer.find("li").each(function(){var b=jQuery(this);b.is(".invisible")||a.push(b.data("value"))}),this.setValue(a,!0)},getValue:function(){return unserialize(this.setting.get())},setValue:function(a,b){a=serialize(a),this.setting.set(a),this.settingField.val(a),b&&this.settingField.trigger("change")}}),wp.customize.controlConstructor.spacing=wp.customize.Control.extend({ready:function(){var a=this,b={};jQuery.each(["top","bottom","left","right"],function(c,d){a.container.has("."+d).size()&&(b[d]=a.setting._value[d],jQuery(a.selector+" ."+d+".input-wrapper").removeClass("invalid"),!1===kirkiValidateCSSValue(a.setting._value[d])&&jQuery(a.selector+" ."+d+".input-wrapper").addClass("invalid")),a.container.has("."+d).size()&&a.container.on("change keyup paste","."+d+" input",function(){subValue=jQuery(this).val(),!1===kirkiValidateCSSValue(subValue)?jQuery(a.selector+" ."+d+".input-wrapper").addClass("invalid"):(jQuery(a.selector+" ."+d+".input-wrapper").removeClass("invalid"),b[d]=subValue,a.setting.set(b),wp.customize.previewer.refresh())})})}}),wp.customize.controlConstructor["switch"]=wp.customize.Control.extend({ready:function(){var a=this,b=a.setting._value;this.container.on("change","input",function(){b=!!jQuery(this).is(":checked"),a.setting.set(b)})}}),wp.customize.controlConstructor.toggle=wp.customize.Control.extend({ready:function(){var a=this,b=a.setting._value;this.container.on("change","input",function(){b=!!jQuery(this).is(":checked"),a.setting.set(b)})}}),wp.customize.controlConstructor.typography=wp.customize.Control.extend({ready:function(){var a,b=this,c=b.selector+" .font-family select",d=b.selector+" .variant select",e=b.selector+" .subset select",f=b.selector+" .text-transform select",g=!1,h=!1,i={};i["font-family"]=void 0!==b.setting._value["font-family"]?b.setting._value["font-family"]:"",i["font-size"]=void 0!==b.setting._value["font-size"]?b.setting._value["font-size"]:"",i.variant=void 0!==b.setting._value.variant?b.setting._value.variant:"",i.subset=void 0!==b.setting._value.subset?b.setting._value.subset:"",i["line-height"]=void 0!==b.setting._value["line-height"]?b.setting._value["line-height"]:"",i["letter-spacing"]=void 0!==b.setting._value["letter-spacing"]?b.setting._value["letter-spacing"]:"",i.color=void 0!==b.setting._value.color?b.setting._value.color:"",i["text-align"]=void 0!==b.setting._value["text-align"]?b.setting._value["text-align"]:"inherit",i["text-transform"]=void 0!==b.setting._value["text-transform"]?b.setting._value["text-transform"]:"inherit";var j=function(c,f,j){subSelector="variant"===f?d:e;var k=!1,l={};void 0!==jQuery(subSelector).selectize()[0]&&jQuery(subSelector).selectize()[0].selectize.destroy();for(var m=0,n=kirkiAllFonts.length;n>m;m++)c===kirkiAllFonts[m].family&&(void 0!==kirkiAllFonts[m].is_standard&&!0===kirkiAllFonts[m].is_standard&&(k=!0),l=kirkiAllFonts[m][f+"s"]);if(!1===k||"subset"!==f){if(null===j){if("variant"===f)for(var m=0,n=l.length;n>m;m++)if(void 0!==l[m].id)a=i.variant;else{var o="regular";o===l[m].id?g=!0:!1===h&&(h=l[m].id)}else if("subset"===f){for(var p={},m=0,n=l.length;n>m;m++)if(null!==i.subset)for(var q=0,n=i.subset.length;n>q;q++)void 0!==l[m]&&i.subset[q]===l[m].id&&(p[i.subset[q]]=i.subset[q]);if(0===p.length)a=["latin"];else{var r=jQuery.map(p,function(a,b){return[a]});a=r}}subValue=void 0!==a?a:!1!==g?"regular":h}else subValue=j;var s;s=jQuery(subSelector).selectize({maxItems:"variant"===f?1:null,valueField:"id",labelField:"label",searchField:["label"],options:l,items:"variant"===f?[subValue]:subValue,create:!1,plugins:"variant"===f?"":["remove_button"],render:{item:function(a,b){return"<div>"+b(a.label)+"</div>"},option:function(a,b){return"<div>"+b(a.label)+"</div>"}}}).data("selectize")}"variant"===f?1>=l.length?b.container.find(".kirki-variant-wrapper").css("display","none"):b.container.find(".kirki-variant-wrapper").css("display","block"):"subset"===f&&(1>l.length?b.container.find(".kirki-subset-wrapper").css("display","none"):b.container.find(".kirki-subset-wrapper").css("display","block")),!0===k?b.container.find(".hide-on-standard-fonts").css("display","none"):b.container.find(".hide-on-standard-fonts").css("display","block")};jQuery(c).selectize({options:kirkiAllFonts,items:[b.setting._value["font-family"]],persist:!1,maxItems:1,valueField:"family",labelField:"label",searchField:["family","label","subsets"],create:!1,render:{item:function(a,b){return"<div>"+b(a.label)+"</div>"},option:function(a,b){return"<div>"+b(a.label)+"</div>"}}}),j(i["font-family"],"variant",i.variant),j(i["font-family"],"subset",i.subset),this.container.on("change",".font-family select",function(){i["font-family"]=jQuery(this).val(),b.setting.set(i),j(jQuery(this).val(),"variant",null),j(jQuery(this).val(),"subset",null),wp.customize.previewer.refresh()}),this.container.on("change",".variant select",function(){i.variant=jQuery(this).val(),b.setting.set(i),wp.customize.previewer.refresh()}),this.container.on("change",".subset select",function(){i.subset=jQuery(this).val(),b.setting.set(i),wp.customize.previewer.refresh()}),this.container.on("change keyup paste",".font-size input",function(){i["font-size"]=jQuery(this).val(),b.setting.set(i),wp.customize.previewer.refresh()}),this.container.on("change keyup paste",".line-height input",function(){i["line-height"]=jQuery(this).val(),b.setting.set(i),wp.customize.previewer.refresh()}),this.container.on("change keyup paste",".letter-spacing input",function(){i["letter-spacing"]=jQuery(this).val(),b.setting.set(i),wp.customize.previewer.refresh()}),this.container.on("change",".text-align input",function(){i["text-align"]=jQuery(this).val(),b.setting.set(i),wp.customize.previewer.refresh()}),jQuery(f).selectize(),this.container.on("change",".text-transform select",function(){i["text-transform"]=jQuery(this).val(),b.setting.set(i),wp.customize.previewer.refresh()});var k=this.container.find(".kirki-color-control");k.wpColorPicker({change:function(){setTimeout(function(){i.color=k.val(),b.setting.set(i),wp.customize.previewer.refresh()},100)}})}}),jQuery(document).ready(function(a){"use strict";jQuery("a.kirki-reset-section").on("click",function(){for(var a=jQuery(this).data("reset-section-id"),b=wp.customize.section(a).controls(),c=0,d=b.length;d>c;c++)kirkiSetValue(b[c].id,b[c].params["default"])})});
//# sourceMappingURL=customizer.min.js.map